<?xml version="1.0"?>
<!DOCTYPE busconfig PUBLIC "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd">
<busconfig>
  <!-- Permissive policy for snapcast user to allow spotifyd D-Bus services -->
  <policy user="snapcast">
    <!-- Allow snapcast user to own any service (required for instance-based naming) -->
    <allow own="*"/>

    <!-- Allow sending to any destination -->
    <allow send_destination="*"/>

    <!-- Allow sending to MPRIS and D-Bus interfaces -->
    <allow send_interface="org.mpris.MediaPlayer2"/>
    <allow send_interface="org.mpris.MediaPlayer2.Player"/>
    <allow send_interface="org.freedesktop.DBus.Properties"/>
    <allow send_interface="org.freedesktop.DBus.Introspectable"/>
  </policy>

  <!-- Allow root to communicate with spotifyd -->
  <policy user="root">
    <allow send_destination="*"/>
    <allow send_interface="org.mpris.MediaPlayer2"/>
    <allow send_interface="org.mpris.MediaPlayer2.Player"/>
  </policy>

  <!-- Allow any user to receive signals from spotifyd MPRIS -->
  <policy context="default">
    <allow receive_sender="*"/>
  </policy>
</busconfig>


